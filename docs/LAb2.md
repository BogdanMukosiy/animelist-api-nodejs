# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ2
## –†–æ–∑—Ä–æ–±–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

**–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 22.10.2025  
**–ü—Ä–æ—î–∫—Ç:** Animelist API  
**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:** Node.js, TypeScript, Express

---

## 1. –ú–µ—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏

–ú–µ—Ç–æ—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ —î –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –π–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, –æ–ø–∏—Å —ó—Ö –≤–∑–∞—î–º–æ–¥—ñ—ó, –∞ —Ç–∞–∫–æ–∂ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö —Ç–∞ —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ —ó—Ö –æ–±—Ä–æ–±–∫–∏.

---

## 2. –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

Animelist API ‚Äî —Ü–µ REST API –¥–ª—è —Å–µ—Ä–≤—ñ—Å—É —Ç–∏–ø—É **MyAnimeList / Shikimori**, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î:

- –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–Ω—ñ–º–µ;
- —Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–≥–ª—è–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞;
- –∑–∞–ª–∏—à–∞—Ç–∏ –≤—ñ–¥–≥—É–∫–∏ —Ç–∞ –æ—Ü—ñ–Ω–∫–∏;
- –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∂–∞–Ω—Ä–∞–º–∏ —Ç–∞ —Å—Ç—É–¥—ñ—è–º–∏;
- –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ (—Ä–µ–π—Ç–∏–Ω–≥, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–≥—É–∫—ñ–≤).

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Ä–æ–∑—Ä–æ–±–ª—è—î—Ç—å—Å—è —è–∫ backend-—á–∞—Å—Ç–∏–Ω–∞ –±–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

---

## 3. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –º–∞—î –º–æ–¥—É–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —Ç–∞ –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π (Separation of Concerns).

### 3.1 –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. API Layer (Controllers)
- –ü—Ä–∏–π–º–∞—î HTTP-–∑–∞–ø–∏—Ç–∏
- –í–∏–∫–æ–Ω—É—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –ü–µ—Ä–µ–¥–∞—î –¥–∞–Ω—ñ —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏
- –§–æ—Ä–º—É—î HTTP-–≤—ñ–¥–ø–æ–≤—ñ–¥—å

### 2. Service Layer
- –ú—ñ—Å—Ç–∏—Ç—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É
- –û–±—Ä–æ–±–ª—è—î —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –ü—Ä–∞—Ü—é—î –∑ –¥–∞–Ω–∏–º–∏ —á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó

### 3. Repository / Persistence Layer
- –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –Ü–Ω–∫–∞–ø—Å—É–ª—é—î SQL/ORM-–ª–æ–≥—ñ–∫—É
- –ó–∞–±–µ–∑–ø–µ—á—É—î —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

### 4. Auth Module
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É

### 5. Reference Modules
- –†–æ–±–æ—Ç–∞ –∑ –∂–∞–Ω—Ä–∞–º–∏
- –†–æ–±–æ—Ç–∞ –∑—ñ —Å—Ç—É–¥—ñ—è–º–∏
- –î–æ–≤—ñ–¥–Ω–∏–∫–æ–≤—ñ –¥–∞–Ω—ñ

---

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
```
src/
‚îú‚îÄ‚îÄ app.ts # —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Express
‚îú‚îÄ‚îÄ server.ts # –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ modules/ # –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ ‚îú‚îÄ‚îÄ anime/
‚îÇ ‚îú‚îÄ‚îÄ reviews/
‚îÇ ‚îú‚îÄ‚îÄ users/
‚îÇ ‚îî‚îÄ‚îÄ list/
‚îú‚îÄ‚îÄ common/ # middleware, helpers
‚îî‚îÄ‚îÄ config/ # –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```

---

## 5. ER-–¥—ñ–∞–≥—Ä–∞–º–∞

ER-–¥—ñ–∞–≥—Ä–∞–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –≤–∏–Ω–µ—Å–µ–Ω–∞ –≤ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª:

üëâ **docs/ERD.md**

–í–æ–Ω–∞ –æ–ø–∏—Å—É—î –Ω–∞—Å—Ç—É–ø–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ:

- Users
- Anime
- Episodes
- Reviews
- UserAnimeEntries
- Genres
- Studios

—Ç–∞ –∑–≤‚Äô—è–∑–∫–∏ –º—ñ–∂ –Ω–∏–º–∏:
- One-to-Many
- Many-to-Many (—á–µ—Ä–µ–∑ join-—Ç–∞–±–ª–∏—Ü—ñ)

---

## 6. –û–ø–∏—Å –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ —Ä–æ–±–æ—Ç–∏

### 6.1 –î–æ–¥–∞–≤–∞–Ω–Ω—è –∞–Ω—ñ–º–µ –≤ –∫–∞—Ç–∞–ª–æ–≥
1. –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞–¥—Å–∏–ª–∞—î –∑–∞–ø–∏—Ç `POST /anime`
2. –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ `ANIME`
3. –°—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑–≤‚Äô—è–∑–∫–∏ –∑ –∂–∞–Ω—Ä–∞–º–∏ —Ç–∞ —Å—Ç—É–¥—ñ—è–º–∏
4. –ê–Ω—ñ–º–µ —Å—Ç–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

---

### 6.2 –î–æ–¥–∞–≤–∞–Ω–Ω—è –∞–Ω—ñ–º–µ –¥–æ —Å–ø–∏—Å–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–∫–ª–∏–∫–∞—î `POST /me/list`
2. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∑–∞–ø–∏—Å —É `USER_ANIME_ENTRIES`
3. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å `planned`
4. –§—ñ–∫—Å—É—î—Ç—å—Å—è –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

---

### 6.3 –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É –ø–µ—Ä–µ–≥–ª—è–¥—É
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–Ω–æ–≤–ª—é—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏—Ö –µ–ø—ñ–∑–æ–¥—ñ–≤
2. –°—Ç–∞—Ç—É—Å –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ `watching` –∞–±–æ `completed`
3. –û–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø–æ–ª–µ `updatedAt`

---

### 6.4 –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤—ñ–¥–≥—É–∫—É
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ª–∏—à–∞—î –≤—ñ–¥–≥—É–∫ —á–µ—Ä–µ–∑ `POST /anime/:id/reviews`
2. –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ `REVIEWS`
3. –î–ª—è –æ–¥–Ω–æ–≥–æ –∞–Ω—ñ–º–µ –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π –ª–∏—à–µ –æ–¥–∏–Ω –≤—ñ–¥–≥—É–∫ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. –†–µ–π—Ç–∏–Ω–≥ –∞–Ω—ñ–º–µ –∞–≥—Ä–µ–≥—É—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤—Å—ñ—Ö –≤—ñ–¥–≥—É–∫—ñ–≤

---

## 7. –ê–≥—Ä–µ–≥–∞—Ü—ñ—è —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó:
- —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥ –∞–Ω—ñ–º–µ:
  AVG(reviews.rating)
- - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–≥—É–∫—ñ–≤:

### –î–∞–Ω—ñ –∞–≥—Ä–µ–≥—É—é—Ç—å—Å—è –ø—Ä–∏:
- –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —Å–ø–∏—Å–∫—É –∞–Ω—ñ–º–µ
- –ø–µ—Ä–µ–≥–ª—è–¥—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–Ω—ñ–º–µ

---

## 8. –í–∏—Å–Ω–æ–≤–∫–∏

–£ —Ö–æ–¥—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏:
- —Å–ø—Ä–æ—î–∫—Ç–æ–≤–∞–Ω–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É;
- –æ–ø–∏—Å–∞–Ω–æ –æ—Å–Ω–æ–≤–Ω—ñ –º–æ–¥—É–ª—ñ —Ç–∞ —ó—Ö –≤–∑–∞—î–º–æ–¥—ñ—é;
- —Å—Ç–≤–æ—Ä–µ–Ω–æ ER-–¥—ñ–∞–≥—Ä–∞–º—É;
- –≤–∏–∑–Ω–∞—á–µ–Ω–æ –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö;
- –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó REST API.

–û—Ç—Ä–∏–º–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∑–≤–æ–ª—è—î –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –ø—Ä–æ—î–∫—Ç, –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –º–æ–¥—É–ª—ñ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –µ—Ç–∞–ø–∞—Ö.

---

## 9. –ê–≤—Ç–æ—Ä

**–°—Ç—É–¥–µ–Ω—Ç:** –ú—É–∫–æ—Å—ñ–π –ë–æ–≥–¥–∞–Ω  
**–ì—Ä—É–ø–∞:** –Ü–û-31  
**–†—ñ–∫:** 2025

